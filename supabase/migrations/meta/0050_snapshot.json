{
  "id": "f0e1d2c3-b4a5-9687-8796-a5b4c3d2e1f0",
  "prevId": "a1b2c3d4-e5f6-7a8b-9c0d-e1f2a3b4c5d6",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.api_auth_tokens": {
      "name": "api_auth_tokens",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "mode": {
          "name": "mode",
          "type": "key_mode",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'read'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "token": {
          "name": "token",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "team_id": {
          "name": "team_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "api_auth_tokens_team_id_teams_id_fk": {
          "name": "api_auth_tokens_team_id_teams_id_fk",
          "tableFrom": "api_auth_tokens",
          "columnsFrom": [
            "team_id"
          ],
          "tableTo": "teams",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "cascade",
          "onDelete": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "api_auth_tokens_token_unique": {
          "name": "api_auth_tokens_token_unique",
          "columns": [
            "token"
          ],
          "nullsNotDistinct": false
        }
      },
      "policies": {
        "Allow users to see API token entries they own": {
          "name": "Allow users to see API token entries they own",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "anon"
          ],
          "using": "is_allowed_apikey(((current_setting('request.headers'::text, true))::json ->> 'ethkey'::text), '{admin,read,write}'::key_mode[])"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.blocks": {
      "name": "blocks",
      "schema": "",
      "columns": {
        "block_number": {
          "name": "block_number",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true
        },
        "timestamp": {
          "name": "timestamp",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "gas_used": {
          "name": "gas_used",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "transaction_count": {
          "name": "transaction_count",
          "type": "smallint",
          "primaryKey": false,
          "notNull": false
        },
        "hash": {
          "name": "hash",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "Enable read access for all users": {
          "name": "Enable read access for all users",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "true"
        },
        "Enable insert for users with an api key": {
          "name": "Enable insert for users with an api key",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "public"
          ]
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.cluster_versions": {
      "name": "cluster_versions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "name": "cluster_versions_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public",
            "type": "byDefault"
          }
        },
        "cluster_id": {
          "name": "cluster_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "zkvm_version_id": {
          "name": "zkvm_version_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "version": {
          "name": "version",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "cluster_versions_cluster_id_idx": {
          "name": "cluster_versions_cluster_id_idx",
          "columns": [
            {
              "expression": "cluster_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "with": {},
          "method": "btree",
          "concurrently": false
        }
      },
      "foreignKeys": {
        "cluster_versions_cluster_id_clusters_id_fk": {
          "name": "cluster_versions_cluster_id_clusters_id_fk",
          "tableFrom": "cluster_versions",
          "columnsFrom": [
            "cluster_id"
          ],
          "tableTo": "clusters",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "cascade",
          "onDelete": "cascade"
        },
        "cluster_versions_zkvm_version_id_zkvm_versions_id_fk": {
          "name": "cluster_versions_zkvm_version_id_zkvm_versions_id_fk",
          "tableFrom": "cluster_versions",
          "columnsFrom": [
            "zkvm_version_id"
          ],
          "tableTo": "zkvm_versions",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "cascade",
          "onDelete": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.guest_programs": {
      "name": "guest_programs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "name": "guest_programs_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public",
            "type": "byDefault"
          }
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "language": {
          "name": "language",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "maintainer": {
          "name": "maintainer",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "ecosystem": {
          "name": "ecosystem",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "license": {
          "name": "license",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "repo_url": {
          "name": "repo_url",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "Enable read access for all users": {
          "name": "Enable read access for all users",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "true"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": true
    },
    "public.clusters": {
      "name": "clusters",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "index": {
          "name": "index",
          "type": "smallint",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "team_id": {
          "name": "team_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "prover_type_id": {
          "name": "prover_type_id",
          "type": "smallint",
          "primaryKey": false,
          "notNull": true
        },
        "guest_program_id": {
          "name": "guest_program_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "hardware_description": {
          "name": "hardware_description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_open_source": {
          "name": "is_open_source",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "num_gpus": {
          "name": "num_gpus",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "software_link": {
          "name": "software_link",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "clusters_team_id_teams_id_fk": {
          "name": "clusters_team_id_teams_id_fk",
          "tableFrom": "clusters",
          "columnsFrom": [
            "team_id"
          ],
          "tableTo": "teams",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "cascade",
          "onDelete": "cascade"
        },
        "clusters_prover_type_id_prover_types_id_fk": {
          "name": "clusters_prover_type_id_prover_types_id_fk",
          "tableFrom": "clusters",
          "columnsFrom": [
            "prover_type_id"
          ],
          "tableTo": "prover_types",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "no action",
          "onDelete": "no action"
        },
        "clusters_guest_program_id_guest_programs_id_fk": {
          "name": "clusters_guest_program_id_guest_programs_id_fk",
          "tableFrom": "clusters",
          "columnsFrom": [
            "guest_program_id"
          ],
          "tableTo": "guest_programs",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "cascade",
          "onDelete": "set null"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "Enable read access for all users": {
          "name": "Enable read access for all users",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "true"
        },
        "Enable insert for users with an api key": {
          "name": "Enable insert for users with an api key",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "public"
          ]
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": true
    },
    "public.proofs": {
      "name": "proofs",
      "schema": "",
      "columns": {
        "proof_id": {
          "name": "proof_id",
          "type": "integer",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "name": "proofs_proof_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "2147483647",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public",
            "type": "byDefault"
          }
        },
        "block_number": {
          "name": "block_number",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "proof_status": {
          "name": "proof_status",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "proving_cycles": {
          "name": "proving_cycles",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "team_id": {
          "name": "team_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "proved_timestamp": {
          "name": "proved_timestamp",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "proving_timestamp": {
          "name": "proving_timestamp",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "queued_timestamp": {
          "name": "queued_timestamp",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "cluster_version_id": {
          "name": "cluster_version_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "proving_time": {
          "name": "proving_time",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "program_id": {
          "name": "program_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "size_bytes": {
          "name": "size_bytes",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "proofs_cluster_version_id_idx": {
          "name": "proofs_cluster_version_id_idx",
          "columns": [
            {
              "expression": "cluster_version_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "with": {},
          "method": "btree",
          "concurrently": false
        },
        "proofs_proved_timestamp_idx": {
          "name": "proofs_proved_timestamp_idx",
          "columns": [
            {
              "expression": "proved_timestamp",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "with": {},
          "method": "btree",
          "concurrently": false
        },
        "proofs_created_at_idx": {
          "name": "proofs_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "with": {},
          "method": "btree",
          "concurrently": false
        }
      },
      "foreignKeys": {
        "proofs_block_number_blocks_block_number_fk": {
          "name": "proofs_block_number_blocks_block_number_fk",
          "tableFrom": "proofs",
          "columnsFrom": [
            "block_number"
          ],
          "tableTo": "blocks",
          "columnsTo": [
            "block_number"
          ],
          "onUpdate": "no action",
          "onDelete": "no action"
        },
        "proofs_team_id_teams_id_fk": {
          "name": "proofs_team_id_teams_id_fk",
          "tableFrom": "proofs",
          "columnsFrom": [
            "team_id"
          ],
          "tableTo": "teams",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "cascade",
          "onDelete": "cascade"
        },
        "proofs_cluster_version_id_cluster_versions_id_fk": {
          "name": "proofs_cluster_version_id_cluster_versions_id_fk",
          "tableFrom": "proofs",
          "columnsFrom": [
            "cluster_version_id"
          ],
          "tableTo": "cluster_versions",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "cascade",
          "onDelete": "cascade"
        },
        "proofs_program_id_programs_id_fk": {
          "name": "proofs_program_id_programs_id_fk",
          "tableFrom": "proofs",
          "columnsFrom": [
            "program_id"
          ],
          "tableTo": "programs",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "cascade",
          "onDelete": "set null"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_block_cluster_version": {
          "name": "unique_block_cluster_version",
          "columns": [
            "block_number",
            "cluster_version_id"
          ],
          "nullsNotDistinct": false
        }
      },
      "policies": {
        "Enable updates for users with an api key": {
          "name": "Enable updates for users with an api key",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "public"
          ],
          "using": "is_allowed_apikey(((current_setting('request.headers'::text, true))::json ->> 'ethkey'::text), '{admin,write}'::key_mode[])"
        },
        "Enable read access for all users": {
          "name": "Enable read access for all users",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        },
        "Enable insert for users with an api key": {
          "name": "Enable insert for users with an api key",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "public"
          ]
        }
      },
      "checkConstraints": {
        "proofs_proof_status_check": {
          "name": "proofs_proof_status_check",
          "value": "proof_status = ANY (ARRAY['queued'::text, 'proving'::text, 'proved'::text])"
        }
      },
      "isRLSEnabled": false
    },
    "public.proofs_daily_stats": {
      "name": "proofs_daily_stats",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "name": "proofs_daily_stats_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public",
            "type": "byDefault"
          }
        },
        "date": {
          "name": "date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "avg_cost": {
          "name": "avg_cost",
          "type": "double precision",
          "primaryKey": false,
          "notNull": true
        },
        "median_cost": {
          "name": "median_cost",
          "type": "double precision",
          "primaryKey": false,
          "notNull": true
        },
        "avg_latency": {
          "name": "avg_latency",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "median_latency": {
          "name": "median_latency",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "total_proofs": {
          "name": "total_proofs",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "proofs_daily_stats_date_key": {
          "name": "proofs_daily_stats_date_key",
          "columns": [
            "date"
          ],
          "nullsNotDistinct": false
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.prover_daily_stats": {
      "name": "prover_daily_stats",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "name": "prover_daily_stats_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public",
            "type": "byDefault"
          }
        },
        "date": {
          "name": "date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "team_id": {
          "name": "team_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "avg_cost": {
          "name": "avg_cost",
          "type": "double precision",
          "primaryKey": false,
          "notNull": true
        },
        "median_cost": {
          "name": "median_cost",
          "type": "double precision",
          "primaryKey": false,
          "notNull": true
        },
        "avg_latency": {
          "name": "avg_latency",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "median_latency": {
          "name": "median_latency",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "total_proofs": {
          "name": "total_proofs",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "prover_daily_stats_team_id_teams_id_fk": {
          "name": "prover_daily_stats_team_id_teams_id_fk",
          "tableFrom": "prover_daily_stats",
          "columnsFrom": [
            "team_id"
          ],
          "tableTo": "teams",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "cascade",
          "onDelete": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "prover_daily_stats_date_team_key": {
          "name": "prover_daily_stats_date_team_key",
          "columns": [
            "date",
            "team_id"
          ],
          "nullsNotDistinct": false
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.teams": {
      "name": "teams",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "github_org": {
          "name": "github_org",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "logo_url": {
          "name": "logo_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "twitter_handle": {
          "name": "twitter_handle",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "website_url": {
          "name": "website_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "storage_quota_bytes": {
          "name": "storage_quota_bytes",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "teams_id_users_id_fk": {
          "name": "teams_id_users_id_fk",
          "tableFrom": "teams",
          "columnsFrom": [
            "id"
          ],
          "tableTo": "users",
          "schemaTo": "auth",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "cascade",
          "onDelete": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "teams_slug_unique": {
          "name": "teams_slug_unique",
          "columns": [
            "slug"
          ],
          "nullsNotDistinct": false
        }
      },
      "policies": {
        "Enable read access for all users": {
          "name": "Enable read access for all users",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "true"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.zkvm_performance_metrics": {
      "name": "zkvm_performance_metrics",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "name": "zkvm_performance_metrics_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public",
            "type": "byDefault"
          }
        },
        "zkvm_id": {
          "name": "zkvm_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "size_bytes": {
          "name": "size_bytes",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "verification_ms": {
          "name": "verification_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "zkvm_performance_metrics_zkvm_id_zkvms_id_fk": {
          "name": "zkvm_performance_metrics_zkvm_id_zkvms_id_fk",
          "tableFrom": "zkvm_performance_metrics",
          "columnsFrom": [
            "zkvm_id"
          ],
          "tableTo": "zkvms",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "cascade",
          "onDelete": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "zkvm_performance_metrics_zkvm_id_unique": {
          "name": "zkvm_performance_metrics_zkvm_id_unique",
          "columns": [
            "zkvm_id"
          ],
          "nullsNotDistinct": false
        }
      },
      "policies": {
        "Enable read access for all users": {
          "name": "Enable read access for all users",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "true"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.zkvm_security_metrics": {
      "name": "zkvm_security_metrics",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "name": "zkvm_security_metrics_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public",
            "type": "byDefault"
          }
        },
        "zkvm_id": {
          "name": "zkvm_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "implementation_soundness": {
          "name": "implementation_soundness",
          "type": "severity_level",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "evm_stf_bytecode": {
          "name": "evm_stf_bytecode",
          "type": "severity_level",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "quantum_security": {
          "name": "quantum_security",
          "type": "severity_level",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "security_target_bits": {
          "name": "security_target_bits",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "max_bounty_amount": {
          "name": "max_bounty_amount",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "soundcalc_integration": {
          "name": "soundcalc_integration",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "zkvm_security_metrics_zkvm_id_zkvms_id_fk": {
          "name": "zkvm_security_metrics_zkvm_id_zkvms_id_fk",
          "tableFrom": "zkvm_security_metrics",
          "columnsFrom": [
            "zkvm_id"
          ],
          "tableTo": "zkvms",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "cascade",
          "onDelete": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "zkvm_security_metrics_zkvm_id_unique": {
          "name": "zkvm_security_metrics_zkvm_id_unique",
          "columns": [
            "zkvm_id"
          ],
          "nullsNotDistinct": false
        }
      },
      "policies": {
        "Enable read access for all users": {
          "name": "Enable read access for all users",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "true"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.zkvm_versions": {
      "name": "zkvm_versions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "name": "zkvm_versions_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public",
            "type": "byDefault"
          }
        },
        "zkvm_id": {
          "name": "zkvm_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "version": {
          "name": "version",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "release_date": {
          "name": "release_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "zkvm_versions_zkvm_id_zkvms_id_fk": {
          "name": "zkvm_versions_zkvm_id_zkvms_id_fk",
          "tableFrom": "zkvm_versions",
          "columnsFrom": [
            "zkvm_id"
          ],
          "tableTo": "zkvms",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "cascade",
          "onDelete": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.zkvms": {
      "name": "zkvms",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "name": "zkvms_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public",
            "type": "byDefault"
          }
        },
        "team_id": {
          "name": "team_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "isa": {
          "name": "isa",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "repo_url": {
          "name": "repo_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_dual_licensed": {
          "name": "is_dual_licensed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "is_open_source": {
          "name": "is_open_source",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "is_proving_mainnet": {
          "name": "is_proving_mainnet",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "approved": {
          "name": "approved",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "zkvms_team_id_teams_id_fk": {
          "name": "zkvms_team_id_teams_id_fk",
          "tableFrom": "zkvms",
          "columnsFrom": [
            "team_id"
          ],
          "tableTo": "teams",
          "columnsTo": [
            "id"
          ],
          "onUpdate": "cascade",
          "onDelete": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "zkvms_slug_unique": {
          "name": "zkvms_slug_unique",
          "columns": [
            "slug"
          ],
          "nullsNotDistinct": false
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.prover_types": {
      "name": "prover_types",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "smallint",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "processing_ratio": {
          "name": "processing_ratio",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "gpu_configuration": {
          "name": "gpu_configuration",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "deployment_type": {
          "name": "deployment_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "prover_types_name_unique": {
          "name": "prover_types_name_unique",
          "columns": [
            "name"
          ],
          "nullsNotDistinct": false
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.gpu_price_index": {
      "name": "gpu_price_index",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "name": "gpu_price_index_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public",
            "type": "byDefault"
          }
        },
        "gpu_name": {
          "name": "gpu_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "hourly_price": {
          "name": "hourly_price",
          "type": "numeric(10, 6)",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "gpu_price_index_gpu_name_created_at_unique": {
          "name": "gpu_price_index_gpu_name_created_at_unique",
          "columns": [
            "gpu_name",
            "created_at"
          ],
          "nullsNotDistinct": false
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {
    "public.key_mode": {
      "name": "key_mode",
      "schema": "public",
      "values": [
        "admin",
        "read",
        "write"
      ]
    },
    "public.severity_level": {
      "name": "severity_level",
      "schema": "public",
      "values": [
        "red",
        "yellow",
        "green"
      ]
    }
  },
  "schemas": {},
  "views": {
    "public.cluster_summary": {
      "name": "cluster_summary",
      "schema": "public",
      "columns": {
        "cluster_id": {
          "name": "cluster_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "cluster_nickname": {
          "name": "cluster_nickname",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "team_id": {
          "name": "team_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "avg_cost_per_proof": {
          "name": "avg_cost_per_proof",
          "type": "double precision",
          "primaryKey": false,
          "notNull": false
        },
        "avg_proving_time": {
          "name": "avg_proving_time",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        }
      },
      "definition": "\n    SELECT c.id as cluster_id,\n      c.nickname as cluster_nickname,\n      c.team_id,\n      COALESCE(sum(cm.cloud_instance_count::double precision * ci.hourly_price * (p.proving_time::numeric / (1000.0 * 60::numeric * 60::numeric))::double precision) / NULLIF(count(p.proof_id), 0)::double precision, 0::double precision) AS avg_cost_per_proof,\n      avg(p.proving_time) AS avg_proving_time\n    FROM clusters c\n    LEFT JOIN cluster_versions cv ON c.id = cv.cluster_id\n    LEFT JOIN proofs p ON cv.id = p.cluster_version_id AND p.proof_status = 'proved'::text\n    LEFT JOIN cluster_machines cm ON cv.id = cm.cluster_version_id\n    LEFT JOIN cloud_instances ci ON cm.cloud_instance_id = ci.id\n    GROUP BY c.id",
      "materialized": false,
      "with": {
        "securityInvoker": true
      },
      "isExisting": false
    },
    "public.recent_summary": {
      "name": "recent_summary",
      "schema": "public",
      "columns": {
        "total_proven_blocks": {
          "name": "total_proven_blocks",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "avg_cost_per_proof": {
          "name": "avg_cost_per_proof",
          "type": "double precision",
          "primaryKey": false,
          "notNull": false
        },
        "median_cost_per_proof": {
          "name": "median_cost_per_proof",
          "type": "double precision",
          "primaryKey": false,
          "notNull": false
        },
        "avg_proving_time": {
          "name": "avg_proving_time",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "median_proving_time": {
          "name": "median_proving_time",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        }
      },
      "definition": "\n    SELECT count(DISTINCT b.block_number) AS total_proven_blocks,\n      -- Calculate average cost per proof\n      COALESCE(avg(cm.cloud_instance_count::double precision * ci.hourly_price * p.proving_time::double precision / (1000.0 * 60::numeric * 60::numeric)::double precision), 0::numeric::double precision) AS avg_cost_per_proof,\n      -- Calculate median cost per proof\n      COALESCE(PERCENTILE_CONT(0.5) WITHIN GROUP (ORDER BY cm.cloud_instance_count::double precision * ci.hourly_price * p.proving_time::double precision / (1000.0 * 60::numeric * 60::numeric)::double precision), 0::numeric::double precision) AS median_cost_per_proof,\n      -- Calculate average latency\n      COALESCE(avg(p.proving_time), 0::numeric) AS avg_proving_time,\n      -- Calculate median latency\n      COALESCE(PERCENTILE_CONT(0.5) WITHIN GROUP (ORDER BY p.proving_time), 0::numeric) AS median_proving_time\n    FROM blocks b\n    INNER JOIN proofs p ON b.block_number = p.block_number AND p.proof_status = 'proved'::text\n    INNER JOIN cluster_versions cv ON p.cluster_version_id = cv.id\n    INNER JOIN cluster_machines cm ON cv.id = cm.cluster_version_id\n    INNER JOIN cloud_instances ci ON cm.cloud_instance_id = ci.id\n    WHERE b.\"timestamp\" >= (now() - '30 days'::interval)",
      "materialized": false,
      "with": {
        "securityInvoker": true
      },
      "isExisting": false
    },
    "public.teams_summary": {
      "name": "teams_summary",
      "schema": "public",
      "columns": {
        "team_id": {
          "name": "team_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "team_name": {
          "name": "team_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "logo_url": {
          "name": "logo_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "avg_cost_per_proof": {
          "name": "avg_cost_per_proof",
          "type": "double precision",
          "primaryKey": false,
          "notNull": false
        },
        "avg_proving_time": {
          "name": "avg_proving_time",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "total_proofs": {
          "name": "total_proofs",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "avg_cost_per_proof_multi": {
          "name": "avg_cost_per_proof_multi",
          "type": "double precision",
          "primaryKey": false,
          "notNull": false
        },
        "avg_proving_time_multi": {
          "name": "avg_proving_time_multi",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "total_proofs_multi": {
          "name": "total_proofs_multi",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "avg_cost_per_proof_single": {
          "name": "avg_cost_per_proof_single",
          "type": "double precision",
          "primaryKey": false,
          "notNull": false
        },
        "avg_proving_time_single": {
          "name": "avg_proving_time_single",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "total_proofs_single": {
          "name": "total_proofs_single",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        }
      },
      "definition": "\n    SELECT t.id as team_id,\n      t.name as team_name,\n      t.logo_url,\n      -- All proofs\n      COALESCE(sum(cm.cloud_instance_count::double precision * ci.hourly_price * (p.proving_time::numeric / (1000.0 * 60::numeric * 60::numeric))::double precision) / NULLIF(count(p.proof_id), 0)::double precision, 0::double precision) AS avg_cost_per_proof,\n      COALESCE(avg(p.proving_time), 0::numeric) AS avg_proving_time,\n      count(p.proof_id) AS total_proofs,\n      -- Multi-machine proofs\n      COALESCE(sum(CASE WHEN c.is_multi_machine THEN (cm.cloud_instance_count::double precision * ci.hourly_price * (p.proving_time::numeric / (1000.0 * 60::numeric * 60::numeric))::double precision) ELSE 0 END) / NULLIF(sum(CASE WHEN c.is_multi_machine THEN 1 ELSE 0 END), 0)::double precision, 0::double precision) AS avg_cost_per_proof_multi,\n      COALESCE(avg(CASE WHEN c.is_multi_machine THEN p.proving_time ELSE NULL END), 0::numeric) AS avg_proving_time_multi,\n      sum(CASE WHEN c.is_multi_machine THEN 1 ELSE 0 END) AS total_proofs_multi,\n      -- Single-machine proofs\n      COALESCE(sum(CASE WHEN NOT c.is_multi_machine THEN (cm.cloud_instance_count::double precision * ci.hourly_price * (p.proving_time::numeric / (1000.0 * 60::numeric * 60::numeric))::double precision) ELSE 0 END) / NULLIF(sum(CASE WHEN NOT c.is_multi_machine THEN 1 ELSE 0 END), 0)::double precision, 0::double precision) AS avg_cost_per_proof_single,\n      COALESCE(avg(CASE WHEN NOT c.is_multi_machine THEN p.proving_time ELSE NULL END), 0::numeric) AS avg_proving_time_single,\n      sum(CASE WHEN NOT c.is_multi_machine THEN 1 ELSE 0 END) AS total_proofs_single\n    FROM teams t\n    LEFT JOIN proofs p ON t.id = p.team_id AND p.proof_status = 'proved'::text\n    LEFT JOIN cluster_versions cv ON p.cluster_version_id = cv.id\n    LEFT JOIN clusters c ON cv.cluster_id = c.id\n    LEFT JOIN cluster_machines cm ON cv.id = cm.cluster_version_id\n    LEFT JOIN cloud_instances ci ON cm.cloud_instance_id = ci.id\n    GROUP BY t.id",
      "materialized": false,
      "with": {
        "securityInvoker": true
      },
      "isExisting": false
    }
  },
  "sequences": {},
  "roles": {},
  "policies": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}